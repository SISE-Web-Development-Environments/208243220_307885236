Index: app.js
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>var context;\r\nvar shape = new Object();\r\nvar board;\r\nvar score;\r\nvar pac_color;\r\nvar start_time;\r\nvar time_elapsed;\r\nvar interval;\r\nvar intervalMonsters;\r\nvar intervalAlmo;\r\nvar center;\r\nvar food_remain;\r\nvar tmpTime = 0;\r\nvar collision = false;\r\n\r\nvar pacman = new Object();\r\npacman.img = new Image();\r\npacman.img.src = \"Resources/right.png\";\r\npacman.imgDown = new Image();\r\npacman.imgDown.src = \"Resources/down.png\";\r\npacman.imgUp = new Image();\r\npacman.imgUp.src = \"Resources/up.png\";\r\npacman.imgLeft = new Image();\r\npacman.imgLeft.src = \"Resources/left.png\";\r\npacman.imgRight = new Image();\r\npacman.imgRight.src = \"Resources/right.png\";\r\n\r\nvar monster = new Object();\r\nmonster.img = new Image();\r\nmonster.img.src = \"Resources/blue.png\";\r\nmonster.blue = new Image();\r\nmonster.blue.src = \"Resources/blue.png\";\r\nmonster.orange = new Image();\r\nmonster.orange.src = \"Resources/orange.png\";\r\nmonster.green = new Image();\r\nmonster.green.src = \"Resources/green.png\";\r\nmonster.red = new Image();\r\nmonster.red.src = \"Resources/red.png\";\r\n\r\nvar potionGood = new Object();\r\npotionGood.good = new Image();\r\npotionGood.good.src = \"Resources/goodp.png\";\r\nvar potionBad = new Object();\r\npotionBad.bad = new Image();\r\npotionBad.bad.src = \"Resources/badp.png\";\r\n\r\nvar clock = new Object();\r\nclock.img = new Image();\r\nclock.img.src = \"Resources/clock.png\";\r\n\r\nvar almo = new Object();\r\nalmo.img = new Image();\r\nalmo.img.src = \"Resources/almo.png\";\r\n\r\nvar totalTimeOfGame;\r\nvar pacmanLife;\r\n\r\nvar audio = new Audio(\"Resources/eating.mp3\");\r\nvar img1 = \"Resources/mute.png\";\r\nvar img2 = \"Resources/unmute.png\";\r\nvar musicOn;\r\n\r\nvar monsterBlueX;\r\nvar monsterBlueY;\r\nvar monsterRedX;\r\nvar monsterRedY;\r\nvar monsterGreenX;\r\nvar monsterGreenY;\r\nvar monsterOrangeX;\r\nvar monsterOrangeY;\r\n\r\nvar prevBlue;\r\nvar currBlue;\r\nvar prevOrange;\r\nvar currOrange;\r\nvar prevGreen;\r\nvar currGreen;\r\nvar prevRed;\r\nvar currRed;\r\n\r\nvar almoX;\r\nvar almoY;\r\nvar prevAlmo;\r\nvar currAlmo;\r\n\r\n$(document).ready(function () {\r\n    $(\"#startGameSettings\").click(function () {\r\n        context = canvas.getContext(\"2d\");\r\n        Start();\r\n        var paragraph = document.getElementById(\"userNameShow\");\r\n        var text = \"User Name: \" + document.getElementById(\"userNameLogIn\").value;\r\n        paragraph.innerText = text;\r\n\r\n    });\r\n});\r\n\r\nfunction Start() {\r\n    prevBlue = 0;\r\n    currBlue = 0;\r\n    prevOrange = 0;\r\n    currOrange = 0;\r\n    prevGreen = 0;\r\n    currGreen = 0;\r\n    prevRed = 0;\r\n    currRed = 0;\r\n\r\n    prevAlmo=0;\r\n    currAlmo=0;\r\n\r\n    pacmanLife = 4;\r\n    updateLife();\r\n\r\n    board = new Array();\r\n    score = 0;\r\n    pac_color = \"yellow\";\r\n    var cnt = 116;\r\n    food_remain = document.getElementById(\"numberCookies\").value;\r\n    var pacman_remain = 1;\r\n    var goodpotion_remain = 1;\r\n    var badpotion_remain = 1;\r\n    var clockLife_remain = 1;\r\n    start_time = new Date();\r\n    totalTimeOfGame = document.getElementById('gameTime').value;\r\n\r\n    for (var i = 0; i < 14; i++) {\r\n        board[i] = new Array();\r\n        //put obstacles in (i=3,j=3) and (i=3,j=4) and (i=3,j=5), (i=6,j=1) and (i=6,j=2)\r\n        for (var j = 0; j < 9; j++) {\r\n            if (\r\n                (i == 3 && j == 3) ||\r\n                (i == 3 && j == 4) ||\r\n                (i == 3 && j == 5) ||\r\n                (i == 6 && j == 1) ||\r\n                (i == 6 && j == 2) ||\r\n                (i == 8 && j == 7) ||\r\n                (i == 8 && j == 8) ||\r\n                (i == 1 && j == 7) ||\r\n                (i == 2 && j == 7) ||\r\n                (i == 3 && j == 7) ||\r\n                (i == 9 && j == 4) ||\r\n                (i == 10 && j == 4) ||\r\n                (i == 11 && j == 4) ||\r\n                (i == 10) && (j == 2)\r\n            ) {\r\n                board[i][j] = 4;\r\n            } else if ((i == 0 && j == 0)) {\r\n                board[i][j] = 0;\r\n            } else if ((i == 0 && j == 8)) {\r\n                board[i][j] = 0;\r\n            } else if ((i == 13 && j == 0)) {\r\n                board[i][j] = 0;\r\n            } else if ((i == 13 && j == 8)) {\r\n                board[i][j] = 0;\r\n            } else {\r\n                var randomNum = Math.random();\r\n                var randomPotion = Math.random();\r\n                var randomPotion1 = Math.random();\r\n                var randomClock = Math.random();\r\n                if (randomNum <= (1.0 * food_remain) / cnt) {\r\n                    food_remain--;\r\n                    var randomNum2 = Math.random();\r\n                    var randomNum3 = Math.random();\r\n                    if (randomNum2 < 0.3) { //fifth\r\n                        board[i][j] = 3;\r\n                    } else if (randomNum3 < 0.1) { //twenty\r\n                        board[i][j] = 5;\r\n                    } else {\r\n                        board[i][j] = 1;\r\n                    }\r\n                } else if (randomNum < (1.0 * (pacman_remain + food_remain)) / cnt) {\r\n                    shape.i = i;\r\n                    shape.j = j;\r\n                    pacman_remain--;\r\n                    board[i][j] = 2;\r\n                } else if (goodpotion_remain === 1 && randomPotion < 0.1) {\r\n                    goodpotion_remain--;\r\n                    board[i][j] = 10;\r\n                } else if (badpotion_remain === 1 && randomPotion1 < 0.1) {\r\n                    badpotion_remain--;\r\n                    board[i][j] = 11;\r\n                } else if (clockLife_remain === 1 && randomClock < 0.1) {\r\n                    clockLife_remain--;\r\n                    board[i][j] = 12;\r\n                } else {\r\n                    board[i][j] = 0;\r\n                }\r\n                cnt--;\r\n            }\r\n        }\r\n    }\r\n    while (food_remain > 0) {\r\n        var emptyCell = findRandomEmptyCell(board);\r\n        board[emptyCell[0]][emptyCell[1]] = 1;\r\n        food_remain--;\r\n    }\r\n\r\n    createMonsterPositions();\r\n    setMonstersStartPoint();\r\n    setAlmoPosition();\r\n\r\n    keysDown = {};\r\n\r\n    addEventListener(\r\n        \"keydown\",\r\n        function (e) {\r\n            keysDown[e.keyCode] = true;\r\n        },\r\n        false\r\n    );\r\n    addEventListener(\r\n        \"keyup\",\r\n        function (e) {\r\n            keysDown[e.keyCode] = false;\r\n        },\r\n        false\r\n    );\r\n\r\n\r\n    intervalMonsters = setInterval(UpdatePositionMonsters, 750);\r\n    interval = setInterval(UpdatePosition, 500);\r\n    intervalAlmo = setInterval(updatePositionAlmo, 750);\r\n\r\n}\r\n\r\n\r\n\r\nfunction findRandomEmptyCell(board) {\r\n    var i = Math.floor(Math.random() * 13 + 1);\r\n    var j = Math.floor(Math.random() * 8 + 1);\r\n    while (board[i][j] != 0 || (i === 0 && j === 0) || (i === 13 && j === 0) || (i === 13 && j === 8) || (i === 0 && j === 8)) {\r\n        i = Math.floor(Math.random() * 13 + 1);\r\n        j = Math.floor(Math.random() * 8 + 1);\r\n    }\r\n    return [i, j];\r\n}\r\n\r\nfunction GetKeyPressed() {\r\n    if (keysDown[38] || keysDown[keyUp]) {//up\r\n        pacman.img = pacman.imgUp;\r\n        return 1;\r\n    }\r\n    if (keysDown[40] || keysDown[keyDown]) {//down\r\n        pacman.img = pacman.imgDown;\r\n        return 2;\r\n    }\r\n    if (keysDown[37] || keysDown[keyLeft]) {//left\r\n        pacman.img = pacman.imgLeft;\r\n        return 3;\r\n    }\r\n    if (keysDown[39] || keysDown[keyRight]) {//right\r\n        pacman.img = pacman.imgRight;\r\n        return 4;\r\n    }\r\n}\r\n\r\n/************************************************Draw***********************************************/\r\n\r\nfunction Draw() {\r\n    canvas.width = canvas.width; //clean board\r\n    lblScore.value = score;\r\n    lblTime.value = time_elapsed;\r\n\r\n    for (var i = 0; i < 14; i++) {\r\n        for (var j = 0; j < 9; j++) {\r\n            center = new Object();\r\n            center.x = i * 50 + 17;\r\n            center.y = j * 50 + 17;\r\n            if (board[i][j] === 2) {\r\n                DrawPacman(i, j);\r\n            } else if (board[i][j] === 1 || board[i][j] === 3 || board[i][j] === 5) {\r\n                DrawCookies(i, j);\r\n            } else if (board[i][j] === 4) {//walls\r\n                DrawWalls();\r\n            } else if (board[i][j] === 6) {\r\n                DrawMonsters(6);\r\n            } else if (board[i][j] === 7) {\r\n                DrawMonsters(7);\r\n            } else if (board[i][j] === 8) {\r\n                DrawMonsters(8);\r\n            } else if (board[i][j] === 9) {\r\n                DrawMonsters(9);\r\n            } else if (board[i][j] === 10) {\r\n                DrawGoodPotion();\r\n            } else if (board[i][j] === 11) {\r\n                DrawBadPotion();\r\n            } else if (board[i][j] === 12) {\r\n                DrawClock();\r\n            } else if (board[i][j] === 13) {\r\n                DrawAlmo();\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nfunction DrawPacman(i, j) {\r\n    center.x = i * 50 + 17;\r\n    center.y = j * 50 + 17;\r\n    context.drawImage(pacman.img, center.x - 18, center.y - 18, 40, 40);\r\n}\r\n\r\nfunction DrawCookies(i, j) {\r\n    center.x = i * 50 + 17;\r\n    center.y = j * 50 + 17;\r\n    if (board[i][j] === 1) {\r\n        context.beginPath();\r\n        context.arc(center.x, center.y, 8, 0, 2 * Math.PI); // circle\r\n        context.fillStyle = document.getElementById(\"fiveCookie\").value; //color //dots-food\r\n        context.fill();\r\n        context.beginPath();\r\n        context.arc(center.x + 3, center.y - 3, 2, 0, 2 * Math.PI); // circle\r\n        context.fillStyle = document.getElementById(\"fiveChip\").value; //color\r\n        context.fill();\r\n        context.beginPath();\r\n        context.arc(center.x - 4, center.y + 1, 2, 0, 2 * Math.PI); // circle\r\n        context.fillStyle = document.getElementById(\"fiveChip\").value; //color\r\n        context.fill();\r\n        context.beginPath();\r\n        context.arc(center.x + 3, center.y + 4, 2, 0, 2 * Math.PI); // circle\r\n        context.fillStyle = document.getElementById(\"fiveChip\").value; //color\r\n        context.fill();\r\n    } else if (board[i][j] === 3) {\r\n        context.beginPath();\r\n        context.arc(center.x, center.y, 12, 0, 2 * Math.PI); // circle\r\n        context.fillStyle = document.getElementById(\"fifthCookie\").value; //color //dots-food\r\n        context.fill();\r\n        context.beginPath();\r\n        context.arc(center.x + 4, center.y - 5, 3, 0, 2 * Math.PI); // circle\r\n        context.fillStyle = document.getElementById(\"fifthChip\").value; //color\r\n        context.fill();\r\n        context.beginPath();\r\n        context.arc(center.x - 6, center.y + 2, 3, 0, 2 * Math.PI); // circle\r\n        context.fillStyle = document.getElementById(\"fifthChip\").value; //color\r\n        context.fill();\r\n        context.beginPath();\r\n        context.arc(center.x + 5, center.y + 6, 3, 0, 2 * Math.PI); // circle\r\n        context.fillStyle = document.getElementById(\"fifthChip\").value; //color\r\n        context.fill();\r\n    } else if (board[i][j] === 5) {\r\n        context.beginPath();\r\n        context.arc(center.x, center.y, 15, 0, 2 * Math.PI); // circle\r\n        context.fillStyle = document.getElementById(\"twentyCookie\").value; //color //dots-food\r\n        context.fill();\r\n        context.beginPath();\r\n        context.arc(center.x + 4, center.y - 8, 4, 0, 2 * Math.PI); // circle\r\n        context.fillStyle = document.getElementById(\"twentyChip\").value; //color\r\n        context.fill();\r\n        context.beginPath();\r\n        context.arc(center.x - 6, center.y + 2, 4, 0, 2 * Math.PI); // circle\r\n        context.fillStyle = document.getElementById(\"twentyChip\").value; //color\r\n        context.fill();\r\n        context.beginPath();\r\n        context.arc(center.x + 7, center.y + 6, 4, 0, 2 * Math.PI); // circle\r\n        context.fillStyle = document.getElementById(\"twentyChip\").value; //color\r\n        context.fill();\r\n    }\r\n}\r\n\r\nfunction DrawWalls() {\r\n    context.beginPath();\r\n    context.rect(center.x - 25, center.y - 25, 50, 50);\r\n    context.fillStyle = \"white\"; //color\r\n    context.fill();\r\n}\r\n\r\nfunction DrawMonsters(choose) {\r\n    if (choose === 6) {\r\n        if (randomMonster1 === 0) {\r\n            monster.img = monster.blue;\r\n        } else if (randomMonster2 === 0) {\r\n            monster.img = monster.orange;\r\n        } else if (randomMonster3 === 0) {\r\n            monster.img = monster.green;\r\n        } else if (randomMonster4 === 0) {\r\n            monster.img = monster.red;\r\n        }\r\n        context.drawImage(monster.img, center.x - 10, center.y - 18, 32, 34);\r\n    } else if (choose === 7) {\r\n        if (randomMonster1 === 1) {\r\n            monster.img = monster.blue;\r\n        } else if (randomMonster2 === 1) {\r\n            monster.img = monster.orange;\r\n        } else if (randomMonster3 === 1) {\r\n            monster.img = monster.green;\r\n        } else if (randomMonster4 === 1) {\r\n            monster.img = monster.red;\r\n        }\r\n        context.drawImage(monster.img, center.x - 10, center.y - 18, 32, 34);\r\n    } else if (choose === 8) {\r\n        if (randomMonster1 === 2) {\r\n            monster.img = monster.blue;\r\n        } else if (randomMonster2 === 2) {\r\n            monster.img = monster.orange;\r\n        } else if (randomMonster3 === 2) {\r\n            monster.img = monster.green;\r\n        } else if (randomMonster4 === 2) {\r\n            monster.img = monster.red;\r\n        }\r\n        context.drawImage(monster.img, center.x - 10, center.y - 18, 32, 34);\r\n    } else if (choose === 9) {\r\n        if (randomMonster1 === 3) {\r\n            monster.img = monster.blue;\r\n        } else if (randomMonster2 === 3) {\r\n            monster.img = monster.orange;\r\n        } else if (randomMonster3 === 3) {\r\n            monster.img = monster.green;\r\n        } else if (randomMonster4 === 3) {\r\n            monster.img = monster.red;\r\n        }\r\n        context.drawImage(monster.img, center.x - 10, center.y - 18, 32, 34);\r\n    }\r\n}\r\n\r\nfunction DrawGoodPotion() {\r\n    context.drawImage(potionGood.good, center.x - 18, center.y - 18, 40, 40);\r\n}\r\n\r\nfunction DrawBadPotion() {\r\n    context.drawImage(potionBad.bad, center.x - 18, center.y - 18, 40, 40);\r\n}\r\n\r\nfunction DrawClock() {\r\n    context.drawImage(clock.img, center.x - 18, center.y - 18, 35, 35);\r\n}\r\n\r\nfunction DrawAlmo() {\r\n    context.drawImage(almo.img, center.x - 18, center.y - 18, 35, 35);\r\n}\r\n\r\n/************************************************UpdatePosition***********************************************/\r\n\r\nfunction UpdatePosition() {\r\n    board[shape.i][shape.j] = 0;\r\n    var x = GetKeyPressed();\r\n    if (x === 1) {//up\r\n        if (shape.j > 0) {\r\n            if ((board[shape.i][shape.j - 1] === 6) ||\r\n                (board[shape.i][shape.j - 1] === 7) ||\r\n                (board[shape.i][shape.j - 1] === 8) ||\r\n                (board[shape.i][shape.j - 1] === 9)) {\r\n                collision = true;\r\n                updateScoreAfterCollision();\r\n            } else if (board[shape.i][shape.j - 1] !== 4) {\r\n                shape.j--;\r\n            }\r\n        }\r\n\r\n    }\r\n    if (x === 2) {\r\n        if (shape.j < 8) {\r\n            if ((board[shape.i][shape.j + 1] === 6) ||\r\n                (board[shape.i][shape.j + 1] === 7) ||\r\n                (board[shape.i][shape.j + 1] === 8) ||\r\n                (board[shape.i][shape.j + 1] === 9)) {\r\n                collision = true;\r\n                updateScoreAfterCollision();\r\n            } else if (board[shape.i][shape.j + 1] !== 4) {\r\n                shape.j++;\r\n            }\r\n        }\r\n    }\r\n    if (x === 3) { //left\r\n        if (shape.i > 0) {\r\n            if ((board[shape.i - 1][shape.j] === 6) ||\r\n                (board[shape.i - 1][shape.j] === 7) ||\r\n                (board[shape.i - 1][shape.j] === 8) ||\r\n                (board[shape.i - 1][shape.j] === 9)) {\r\n                collision = true;\r\n                updateScoreAfterCollision();\r\n            } else if (board[shape.i - 1][shape.j] !== 4) {\r\n                shape.i--;\r\n            }\r\n        }\r\n    }\r\n    if (x === 4) {\r\n        if (shape.i < 13) {\r\n            if ((board[shape.i + 1][shape.j] === 6) ||\r\n                (board[shape.i + 1][shape.j] === 7) ||\r\n                (board[shape.i + 1][shape.j] === 8) ||\r\n                (board[shape.i + 1][shape.j] === 9)) {\r\n                collision = true;\r\n                updateScoreAfterCollision();\r\n            } else if (board[shape.i + 1][shape.j] !== 4) {\r\n                shape.i++;\r\n            }\r\n        }\r\n\r\n    }\r\n    if (board[shape.i][shape.j] === 1) {\r\n        score += 5;\r\n    }\r\n    if (board[shape.i][shape.j] === 3) {\r\n        score += 15;\r\n    }\r\n    if (board[shape.i][shape.j] === 5) {\r\n        score += 25;\r\n    }\r\n    if (board[shape.i][shape.j] === 10) {\r\n        updateLife();\r\n    }\r\n    if (board[shape.i][shape.j] === 11) {\r\n        looseLife();\r\n    }\r\n\r\n    if (board[shape.i][shape.j] === 12) {\r\n        tmpTime = 20;\r\n    }\r\n    board[shape.i][shape.j] = 2;\r\n    var currentTime = new Date();\r\n    time_elapsed = (currentTime - start_time) / 1000;\r\n\r\n    checkCollision();\r\n\r\n\r\n    if (time_elapsed.valueOf() >= parseInt(totalTimeOfGame) + parseInt(tmpTime)) {\r\n        window.clearInterval(interval);\r\n        if (score < 100) {\r\n            window.alert(\"You are better than \" + score + \" points\");\r\n        } else {\r\n            window.alert(\"Winner!!!\");\r\n            win();\r\n        }\r\n\r\n    } else if (pacmanLife === 0) {\r\n        window.alert(\"Loser!\");\r\n        showMenuSettings();\r\n    } else {\r\n        Draw();\r\n    }\r\n\r\n}\r\n\r\nfunction UpdatePositionMonsters() {\r\n    for (let monsterColor in listMonsters) {\r\n        let monsterChosen = listMonsters[monsterColor];\r\n        let tmpKeyColor = Object.keys(monsterChosen)[0];\r\n        let monColor = monsterChosen[tmpKeyColor];\r\n        let tmpKeyPos = Object.keys(monsterChosen)[1];\r\n        let monPlaceUpdatePosition = monsterChosen[tmpKeyPos];\r\n        monPlaceUpdatePosition += 6;\r\n\r\n        let disX;\r\n        let disY;\r\n        if (monColor === \"blue\" && monsterBlueX !== -1 && monsterBlueY !== -1) {\r\n            currBlue = monPlaceUpdatePosition;\r\n            disX = monsterBlueX - shape.i;\r\n            disY = monsterBlueY - shape.j;\r\n            if ((Math.abs(disX) === 1 && Math.abs(disY) === 0) || (Math.abs(disX) === 0 && Math.abs(disY) === 1)) {\r\n                collision = true;\r\n                updateScoreAfterCollision();\r\n            } else if (Math.abs(disX) < Math.abs(disY)) {\r\n                if (disX > 0) {//up\r\n                    upBlue();\r\n                } else if (disX < 0) {//down\r\n                    downBlue();\r\n                } else if (disY > 0) {//left\r\n                    leftBlue();\r\n                } else {//right\r\n                    rightBlue();\r\n                }\r\n\r\n            } else if (Math.abs(disX) > Math.abs(disY)) {\r\n                if (disY > 0) {//left\r\n                    leftBlue();\r\n                } else if (disY < 0) {//right\r\n                    rightBlue();\r\n                } else if (disX < 0) {//down\r\n                    downBlue();\r\n                } else {//up\r\n                    upBlue();\r\n                }\r\n            }\r\n        } else if (monColor === \"orange\" && monsterOrangeX !== -1 && monsterOrangeY !== -1) {\r\n            currOrange = monPlaceUpdatePosition;\r\n            disX = monsterOrangeX - shape.i;\r\n            disY = monsterOrangeY - shape.j;\r\n            if ((Math.abs(disX) === 1 && Math.abs(disY) === 0) || (Math.abs(disX) === 0 && Math.abs(disY) === 1)) {\r\n                collision = true;\r\n                updateScoreAfterCollision();\r\n\r\n            } else if (Math.abs(disX) < Math.abs(disY)) {\r\n                if (disX > 0) {//up\r\n                    upOrange();\r\n                } else if (disX < 0) {//down\r\n                    downOrange();\r\n                } else if (disY > 0) {//left\r\n                    leftOrange();\r\n                } else {//right\r\n                    rightOrange();\r\n                }\r\n            } else if (Math.abs(disX) > Math.abs(disY)) {\r\n                if (disY > 0) {//left\r\n                    leftOrange();\r\n                } else if (disY < 0) {//right\r\n                    rightOrange();\r\n                } else if (disX < 0) {//down\r\n                    downOrange();\r\n                } else {//up\r\n                    upOrange();\r\n                }\r\n            }\r\n        } else if (monColor === \"green\" && monsterGreenX !== -1 && monsterGreenY !== -1) {\r\n            currGreen = monPlaceUpdatePosition;\r\n            disX = monsterGreenX - shape.i;\r\n            disY = monsterGreenY - shape.j;\r\n            if ((Math.abs(disX) === 1 && Math.abs(disY) === 0) || (Math.abs(disX) === 0 && Math.abs(disY) === 1)) {\r\n                collision = true;\r\n                updateScoreAfterCollision();\r\n            } else if (Math.abs(disX) < Math.abs(disY)) {\r\n                if (disX > 0) {//up\r\n                    upGreen();\r\n                } else if (disX < 0) {//down\r\n                    downGreen();\r\n                } else if (disY > 0) {//left\r\n                    leftGreen();\r\n                } else {//right\r\n                    rightGreen();\r\n                }\r\n            } else if (Math.abs(disX) > Math.abs(disY)) {\r\n                if (disY > 0) {//left\r\n                    leftGreen();\r\n                } else if (disY < 0) {//right\r\n                    rightGreen();\r\n                } else if (disX < 0) {//down\r\n                    downGreen();\r\n                } else {//up\r\n                    upGreen();\r\n                }\r\n            }\r\n        } else if (monColor === \"red\" && monsterRedX !== -1 && monsterRedY !== -1) {\r\n            currRed = monPlaceUpdatePosition;\r\n            disX = monsterRedX - shape.i;\r\n            disY = monsterRedY - shape.j;\r\n            if ((Math.abs(disX) === 1 && Math.abs(disY) === 0) || (Math.abs(disX) === 0 && Math.abs(disY) === 1)) {\r\n                collision = true;\r\n                updateScoreAfterCollision();\r\n            } else if (Math.abs(disX) < Math.abs(disY)) {\r\n                if (disX > 0) {//up\r\n                    upRed();\r\n                } else if (disX < 0) {//down\r\n                    downRed();\r\n                } else if (disY > 0) {//left\r\n                    leftRed();\r\n                } else {//right\r\n                    rightRed();\r\n                }\r\n            } else if (Math.abs(disX) > Math.abs(disY)) {\r\n                if (disY > 0) {//left\r\n                    leftRed();\r\n                } else if (disY < 0) {//right\r\n                    rightRed();\r\n                } else if (disX < 0) {//down\r\n                    downRed();\r\n                } else {//up\r\n                    upRed();\r\n                }\r\n            }\r\n        }\r\n        checkCollision();\r\n        Draw();\r\n    }\r\n}\r\n\r\nfunction updatePositionAlmo() {\r\n    let randomMove;\r\n    if(almoX>0 && almoX<13 && almoY>0 && almoY<8 && board[almoX+1][almoY]!==4 &&\r\n        board[almoX-1][almoY]!==4 &&board[almoX][almoY+1]!==4 &&board[almoX][almoY-1]!==4){\r\n        randomMove=Math.floor(Math.random()*3);\r\n        if(randomMove==0){\r\n            almoX++;\r\n        }else if(randomMove==1){\r\n            almoX--;\r\n        }else if(randomMove==2){\r\n            almoY++;\r\n        }else if(randomMove==3){\r\n            almoY--;\r\n        }\r\n    }else if(almoX>0 && board[almoX-1][almoY]!==4 && almoX<13 && board[almoX+1][almoY]!==4 && almoY>0 && board[almoX][almoY-1]!==4){\r\n       //up down left\r\n        randomMove=Math.floor(Math.random()*2);\r\n        if(randomMove==0){\r\n            almoX--;\r\n        }else if(randomMove==1){\r\n            almoX++;\r\n        }else if(randomMove==2){\r\n            almoY--;\r\n        }\r\n    }else if(almoX>0 && board[almoX-1][almoY]!==4 && almoX<13 && board[almoX+1][almoY]!==4 && almoY<8&& board[almoX][almoY+1]!==4){\r\n        //up down right\r\n        randomMove=Math.floor(Math.random()*2);\r\n        if(randomMove==0){\r\n            almoX--;\r\n        }else if(randomMove==1){\r\n            almoX++;\r\n        }else if(randomMove==2){\r\n            almoY++;\r\n        }\r\n    }else if(almoY>0 && board[almoX][almoY-1]!==4 && almoX<13 && board[almoX+1][almoY]!==4 && almoY<8 && board[almoX][almoY+1]!==4){\r\n        //down right left\r\n        randomMove=Math.floor(Math.random()*2);\r\n        if(randomMove==0){\r\n            almoY--;\r\n        }else if(randomMove==1){\r\n            almoX++;\r\n        }else if(randomMove==2){\r\n            almoY++;\r\n        }\r\n    }else if(almoY>0 && board[almoX][almoY-1]!==4 && almoX>0 && board[almoX-1][almoY]!==4 && almoY<8 && board[almoX][almoY+1]!==4){\r\n        //up left right\r\n        randomMove=Math.floor(Math.random()*2);\r\n        if(randomMove==0){\r\n            almoY--;\r\n        }else if(randomMove==1){\r\n            almoX--;\r\n        }else if(randomMove==2){\r\n            almoY++;\r\n        }\r\n    }else if(almoX>0 && board[almoX-1][almoY]!==4 && almoX<13 && board[almoX+1][almoY]!==4){\r\n       //up down\r\n        randomMove=Math.floor(Math.random()*2);\r\n        if(randomMove==0){\r\n            almoX--;\r\n        }else if(randomMove==1){\r\n            almoX++;\r\n        }\r\n    }else if(almoX>0 && board[almoX-1][almoY]!==4 && almoY>0 && board[almoX][almoY-1]!==4){\r\n        //up left\r\n        randomMove=Math.floor(Math.random()*2);\r\n        if(randomMove==0){\r\n            almoX--;\r\n        }else if(randomMove==1) {\r\n            almoY--;\r\n        }\r\n    }else if(almoX>0 && board[almoX-1][almoY]!==4 && almoY<8 && board[almoX][almoY+1]!==4){\r\n        //up right\r\n        randomMove=Math.floor(Math.random()*2);\r\n        if(randomMove==0){\r\n            almoX--;\r\n        }else if(randomMove==1) {\r\n            almoY++;\r\n        }\r\n    }else if(almoX<13 && board[almoX+1][almoY]!==4 && almoY>0 && board[almoX][almoY-1]!==4){\r\n        //down left\r\n        randomMove=Math.floor(Math.random()*2);\r\n        if(randomMove==0){\r\n            almoX++;\r\n        }else if(randomMove==1){\r\n            almoY--;\r\n        }\r\n    }else if(almoY>0 && board[almoX][almoY-1]!==4 && almoY<8 && board[almoX][almoY+1]!==4){\r\n        //left right\r\n        randomMove=Math.floor(Math.random()*2);\r\n        if(randomMove==0){\r\n            almoY--;\r\n        }else if(randomMove==1){\r\n            almoY++;\r\n        }\r\n    }else if(almoX<13 && board[almoX+1][almoY]!==4 && almoY<8 && board[almoX][almoY+1]!==4){\r\n        //down  right\r\n        randomMove=Math.floor(Math.random()*2);\r\n        if(randomMove==0){\r\n            almoX++;\r\n        }else if(randomMove==1) {\r\n            almoY++;\r\n        }\r\n    }else if(almoX<13 && board[almoX+1][almoY]!==4){\r\n        almoX++;\r\n    }else if(almoX>0 && board[almoX-1][almoY]!==4){\r\n        almoX--;\r\n    }else if(almoY<8 && board[almoX][almoY+1]!==4){\r\n        almoY++;\r\n    }else if(almoY>0 && board[almoX][almoY-1]!==4){\r\n        almoY--;\r\n    }\r\n\r\n}\r\n\r\n\r\n/************************************************SetPosition***********************************************/\r\n\r\nfunction setMonstersStartPoint() {\r\n\r\n\r\n    monsterBlueX = -1;\r\n    monsterBlueY = -1;\r\n    monsterRedX = -1;\r\n    monsterRedY = -1;\r\n    monsterGreenX = -1;\r\n    monsterGreenY = -1;\r\n    monsterOrangeX = -1;\r\n    monsterOrangeY = -1;\r\n\r\n\r\n    for (let monsterColor in listMonsters) {\r\n        let monsterChosen = listMonsters[monsterColor];\r\n        let tmpKeyColor = Object.keys(monsterChosen)[0];\r\n        let monColor = monsterChosen[tmpKeyColor];\r\n        let tmpKeyPos = Object.keys(monsterChosen)[1];\r\n        let monPlace = monsterChosen[tmpKeyPos];\r\n        monPlace += 6;\r\n\r\n        if (monPlace === 6) {\r\n            board[0][0] = 6;\r\n            if (monColor === \"blue\") {\r\n                monsterBlueX = 0;\r\n                monsterBlueY = 0;\r\n            } else if (monColor === \"orange\") {\r\n                monsterOrangeX = 0;\r\n                monsterOrangeY = 0;\r\n            } else if (monColor === \"green\") {\r\n                monsterGreenX = 0;\r\n                monsterGreenY = 0;\r\n            } else if (monColor === \"red\") {\r\n                monsterRedX = 0;\r\n                monsterRedY = 0;\r\n            }\r\n        } else if (monPlace === 7) {\r\n            board[13][0] = 7;\r\n            if (monColor === \"blue\") {\r\n                monsterBlueX = 13;\r\n                monsterBlueY = 0;\r\n            } else if (monColor === \"orange\") {\r\n                monsterOrangeX = 13;\r\n                monsterOrangeY = 0;\r\n            } else if (monColor === \"green\") {\r\n                monsterGreenX = 13;\r\n                monsterGreenY = 0;\r\n            } else if (monColor === \"red\") {\r\n                monsterRedX = 13;\r\n                monsterRedY = 0;\r\n            }\r\n        } else if (monPlace === 8) {\r\n            board[13][8] = 8;\r\n            if (monColor === \"blue\") {\r\n                monsterBlueX = 13;\r\n                monsterBlueY = 8;\r\n            } else if (monColor === \"orange\") {\r\n                monsterOrangeX = 13;\r\n                monsterOrangeY = 8;\r\n            } else if (monColor === \"green\") {\r\n                monsterGreenX = 13;\r\n                monsterGreenY = 8;\r\n            } else if (monColor === \"red\") {\r\n                monsterRedX = 13;\r\n                monsterRedY = 8;\r\n            }\r\n        } else if (monPlace === 9) {\r\n            board[0][8] = 9;\r\n            if (monColor === \"blue\") {\r\n                monsterBlueX = 0;\r\n                monsterBlueY = 8;\r\n            } else if (monColor === \"orange\") {\r\n                monsterOrangeX = 0;\r\n                monsterOrangeY = 8;\r\n            } else if (monColor === \"green\") {\r\n                monsterGreenX = 0;\r\n                monsterGreenY = 8;\r\n            } else if (monColor === \"red\") {\r\n                monsterRedX = 0;\r\n                monsterRedY = 8;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nfunction setAlmoPosition() {\r\n    almoX = -1;\r\n    almoY = -1;\r\n\r\n    let exist6 = false;\r\n    let exist7 = false;\r\n    let exist8 = false;\r\n    let exist9 = false;\r\n    let randomAlmo;\r\n    //4 monsters\r\n    if (listMonsters.length === 4) {\r\n        var emptyCellAlmo = findRandomEmptyCell(board);\r\n        board[emptyCellAlmo[0]][emptyCellAlmo[1]] = 13;\r\n    } else if (listMonsters.length === 3) {//3 monsters\r\n        if (board[0][0] === 0) {\r\n            board[0][0] = 13;\r\n            almoX=0;\r\n            almoY=0;\r\n        } else if (board[0][8] === 0) {\r\n            board[0][8] = 13;\r\n            almoX=0;\r\n            almoY=8;\r\n        } else if (board[13][8] === 0) {\r\n            board[13][8] = 13;\r\n            almoX=13;\r\n            almoY=8;\r\n        } else if (board[13][0] === 0) {\r\n            board[13][0] = 13;\r\n            almoX=13;\r\n            almoY=0;\r\n        }\r\n    } else if (listMonsters.length <= 2){ //two monster\r\n        if (board[0][0] === 6) {\r\n            exist6=true;\r\n        }\r\n        if (board[13][0] === 7) {\r\n            exist7=true;\r\n        }\r\n        if (board[13][8] === 8) {\r\n            exist8=true;\r\n        }\r\n        if (board[0][8] === 9) {\r\n            exist9=true;\r\n        }\r\n        if(listMonsters.length === 2){\r\n            randomAlmo=Math.floor(Math.random());\r\n            if(exist6 && exist7){\r\n                if(randomAlmo==0){\r\n                    board[13][8]= 13;\r\n                    almoX=13;\r\n                    almoY=8;\r\n                }else{\r\n                    board[13][0] = 13;\r\n                    almoX=13;\r\n                    almoY=0;\r\n                }\r\n            }else if(exist6 && exist8){\r\n                if(randomAlmo==0){\r\n                    board[0][8] = 13;\r\n                    almoX=0;\r\n                    almoY=8;\r\n                }else{\r\n                    board[13][0] = 13;\r\n                    almoX=13;\r\n                    almoY=0;\r\n                }\r\n            }else if(exist6 && exist9){\r\n                if(randomAlmo==0){\r\n                    board[0][8] = 13;\r\n                    almoX=0;\r\n                    almoY=8;\r\n                }else{\r\n                    board[13][8] = 13;\r\n                    almoX=13;\r\n                    almoY=8;\r\n                }\r\n            }else if(exist7 && exist8){\r\n                if(randomAlmo==0){\r\n                    board[0][0] = 13;\r\n                    almoX=0;\r\n                    almoY=0;\r\n                }else{\r\n                    board[13][0] = 13;\r\n                    almoX=13;\r\n                    almoY=0;\r\n                }\r\n            }else if(exist8 && exist9){\r\n                if(randomAlmo==0){\r\n                    board[0][8] = 13;\r\n                    almoX=0;\r\n                    almoY=8;\r\n                }else{\r\n                    board[0][0] = 13;\r\n                    almoX=0;\r\n                    almoY=0;\r\n                }\r\n            }\r\n        }else if(listMonsters.length === 1){\r\n            randomAlmo=Math.floor(Math.random()*2);\r\n            if(exist6){\r\n                if(randomAlmo==0){\r\n                    board[0][8] = 13;\r\n                    almoX=0;\r\n                    almoY=8;\r\n                }else if(randomAlmo==1){\r\n                    board[13][8] = 13;\r\n                    almoX=13;\r\n                    almoY=8;\r\n                }else{\r\n                    board[13][0] = 13;\r\n                    almoX=13;\r\n                    almoY=0;\r\n                }\r\n            }else if(exist7){\r\n                if(randomAlmo==0){\r\n                    board[0][0] = 13;\r\n                    almoX=0;\r\n                    almoY=0;\r\n                }else if(randomAlmo==1){\r\n                    board[13][8] = 13;\r\n                    almoX=13;\r\n                    almoY=8;\r\n                }else{\r\n                    board[13][0] = 13;\r\n                    almoX=13;\r\n                    almoY=0;\r\n                }\r\n            }else if(exist8){\r\n                if(randomAlmo==0){\r\n                    board[0][0] = 13;\r\n                    almoX=0;\r\n                    almoY=0;\r\n                }else if(randomAlmo==1){\r\n                    board[0][8] = 13;\r\n                    almoX=0;\r\n                    almoY=8;\r\n                }else{\r\n                    board[13][0] = 13;\r\n                    almoX=13;\r\n                    almoY=0;\r\n                }\r\n            }else if(exist9){\r\n                if(randomAlmo==0){\r\n                    board[0][0] = 13;\r\n                    almoX=0;\r\n                    almoY=0;\r\n                }else if(randomAlmo==1){\r\n                    board[13][8] = 13;\r\n                    almoX=13;\r\n                    almoY=8;\r\n                }else{\r\n                    board[0][8] = 13;\r\n                    almoX=0;\r\n                    almoY=8;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nfunction checkCollision() {\r\n\r\n    if (collision) {\r\n        if (pacmanLife === 0) {\r\n            musicOn = true;\r\n            musicController();\r\n            window.alert(\"Loser!\");\r\n\r\n            showMenuSettings();\r\n        } else {\r\n            collision = false;\r\n\r\n            pacman.img = null;\r\n            var randomI = Math.floor(Math.random() * 13);\r\n            var randomJ = Math.floor(Math.random() * 8);\r\n            while (board[randomI][randomJ] !== 0 ||\r\n            (randomI === 0 && randomJ === 0) ||\r\n            (randomI === 13 && randomJ === 0) ||\r\n            (randomI === 13 && randomJ === 8) ||\r\n            (randomI === 0 && randomJ === 8)) {\r\n                randomI = Math.floor(Math.random() * 13);\r\n                randomJ = Math.floor(Math.random() * 8);\r\n            }\r\n            board[shape.i][shape.j] = 0;\r\n            shape.i = randomI;\r\n            shape.j = randomJ;\r\n\r\n            pacman.img = pacman.imgRight;\r\n\r\n            // if (monsterBlueX != -1) {\r\n            //     board[monsterBlueX][monsterBlueY] = currBlue;\r\n            // } else if (monsterOrangeX != -1) {\r\n            //     board[monsterOrangeX][monsterOrangeY] = 0;\r\n            // } else if (monsterGreenX != -1) {\r\n            //     board[monsterGreenX][monsterGreenY] = 0;\r\n            // } else if (monsterRedX != -1) {\r\n            //     board[monsterRedX][monsterRedY] = 0;\r\n            // }\r\n\r\n\r\n            createMonsterPositions();\r\n            setMonstersStartPoint();\r\n        }\r\n    }\r\n}\r\n\r\n/************************************************BlueMonster***********************************************/\r\nfunction upBlue() {\r\n    if (monsterBlueX > 0 & board[monsterBlueX - 1][monsterBlueY] !== 4) {\r\n        board[monsterBlueX][monsterBlueY] = prevBlue;\r\n        prevBlue = board[monsterBlueX - 1][monsterBlueY];\r\n        board[monsterBlueX - 1][monsterBlueY] = currBlue;\r\n        currBlue = prevBlue;\r\n        monsterBlueX--;\r\n    } else if (board[monsterBlueX - 1][monsterBlueY] === 4) {\r\n        if (monsterBlueY > 0 & board[monsterBlueX][monsterBlueY - 1] !== 4) {\r\n            board[monsterBlueX][monsterBlueY] = prevBlue;\r\n            prevBlue = board[monsterBlueX][monsterBlueY - 1];\r\n            board[monsterBlueX][monsterBlueY - 1] = currBlue;\r\n            currBlue = prevBlue;\r\n            monsterBlueY--;\r\n\r\n        } else if (monsterBlueY < 8 & board[monsterBlueX][monsterBlueY + 1] !== 4) {\r\n            board[monsterBlueX][monsterBlueY] = prevBlue;\r\n            prevBlue = board[monsterBlueX][monsterBlueY + 1];\r\n            board[monsterBlueX][monsterBlueY + 1] = currBlue;\r\n            currBlue = prevBlue;\r\n            monsterBlueY++;\r\n\r\n        } else if (monsterBlueX < 13 & board[monsterBlueX + 1][monsterBlueY] !== 4) {\r\n            board[monsterBlueX][monsterBlueY] = prevBlue;\r\n            prevBlue = board[monsterBlueX + 1][monsterBlueY];\r\n            board[monsterBlueX + 1][monsterBlueY] = currBlue;\r\n            currBlue = prevBlue;\r\n\r\n            monsterBlueX++;\r\n        }\r\n    }\r\n\r\n}\r\n\r\nfunction downBlue() {\r\n    if (monsterBlueX < 13 & board[monsterBlueX + 1][monsterBlueY] !== 4) {\r\n        board[monsterBlueX][monsterBlueY] = prevBlue;\r\n        prevBlue = board[monsterBlueX + 1][monsterBlueY];\r\n        board[monsterBlueX + 1][monsterBlueY] = currBlue;\r\n        currBlue = prevBlue;\r\n        monsterBlueX++;\r\n\r\n    } else if (board[monsterBlueX - 1][monsterBlueY] === 4) {\r\n        if (monsterBlueY < 8 & board[monsterBlueX][monsterBlueY + 1] !== 4) {\r\n            board[monsterBlueX][monsterBlueY] = prevBlue;\r\n            prevBlue = board[monsterBlueX][monsterBlueY + 1];\r\n            board[monsterBlueX][monsterBlueY + 1] = currBlue;\r\n            currBlue = prevBlue;\r\n            monsterBlueY++;\r\n\r\n        } else if (monsterBlueY > 0 & board[monsterBlueX][monsterBlueY - 1] !== 4) {\r\n            board[monsterBlueX][monsterBlueY] = prevBlue;\r\n            prevBlue = board[monsterBlueX][monsterBlueY - 1];\r\n            board[monsterBlueX][monsterBlueY - 1] = currBlue;\r\n            currBlue = prevBlue;\r\n            monsterBlueY--;\r\n\r\n        } else if (monsterBlueX > 0 & board[monsterBlueX - 1][monsterBlueY] !== 4) {\r\n            board[monsterBlueX][monsterBlueY] = prevBlue;\r\n            prevBlue = board[monsterBlueX - 1][monsterBlueY];\r\n            board[monsterBlueX - 1][monsterBlueY] = currBlue;\r\n            currBlue = prevBlue;\r\n            monsterBlueX--;\r\n\r\n\r\n        }\r\n    }\r\n}\r\n\r\nfunction leftBlue() {\r\n    if (monsterBlueY > 0 & board[monsterBlueX][monsterBlueY - 1] !== 4) {\r\n        board[monsterBlueX][monsterBlueY] = prevBlue;\r\n        prevBlue = board[monsterBlueX][monsterBlueY - 1];\r\n        board[monsterBlueX][monsterBlueY - 1] = currBlue;\r\n        currBlue = prevBlue;\r\n        monsterBlueY--;\r\n\r\n    } else if (board[monsterBlueX - 1][monsterBlueY] === 4) {\r\n        if (monsterBlueX > 0 & board[monsterBlueX - 1][monsterBlueY] !== 4) {\r\n            board[monsterBlueX][monsterBlueY] = prevBlue;\r\n            prevBlue = board[monsterBlueX - 1][monsterBlueY];\r\n            board[monsterBlueX - 1][monsterBlueY] = currBlue;\r\n            currBlue = prevBlue;\r\n            monsterBlueX--;\r\n\r\n        } else if (monsterBlueX < 13 & board[monsterBlueX + 1][monsterBlueY] !== 4) {\r\n            board[monsterBlueX][monsterBlueY] = prevBlue;\r\n            prevBlue = board[monsterBlueX + 1][monsterBlueY];\r\n            board[monsterBlueX + 1][monsterBlueY] = currBlue;\r\n            currBlue = prevBlue;\r\n            monsterBlueX++;\r\n        } else if (monsterBlueY < 8 & board[monsterBlueX][monsterBlueY + 1] !== 4) {\r\n            board[monsterBlueX][monsterBlueY] = prevBlue;\r\n            prevBlue = board[monsterBlueX][monsterBlueY + 1];\r\n            board[monsterBlueX][monsterBlueY + 1] = currBlue;\r\n            currBlue = prevBlue;\r\n            monsterBlueY++;\r\n\r\n        }\r\n    }\r\n}\r\n\r\nfunction rightBlue() {\r\n    if (monsterBlueY < 8 & board[monsterBlueX][monsterBlueY + 1] !== 4) {\r\n        board[monsterBlueX][monsterBlueY] = prevBlue;\r\n        prevBlue = board[monsterBlueX][monsterBlueY + 1];\r\n        board[monsterBlueX][monsterBlueY + 1] = currBlue;\r\n        currBlue = prevBlue;\r\n        monsterBlueY++;\r\n    } else if (board[monsterBlueX - 1][monsterBlueY] === 4) {\r\n        if (monsterBlueX < 13 & board[monsterBlueX + 1][monsterBlueY] !== 4) {\r\n            board[monsterBlueX][monsterBlueY] = prevBlue;\r\n            prevBlue = board[monsterBlueX + 1][monsterBlueY];\r\n            board[monsterBlueX + 1][monsterBlueY] = currBlue;\r\n            currBlue = prevBlue;\r\n            monsterBlueX++;\r\n        } else if (monsterBlueX > 0 & board[monsterBlueX - 1][monsterBlueY] !== 4) {\r\n            board[monsterBlueX][monsterBlueY] = prevBlue;\r\n            prevBlue = board[monsterBlueX - 1][monsterBlueY];\r\n            board[monsterBlueX - 1][monsterBlueY] = currBlue;\r\n            currBlue = prevBlue;\r\n            monsterBlueX--;\r\n        } else if (monsterBlueY > 0 & board[monsterBlueX][monsterBlueY - 1] !== 4) {\r\n            board[monsterBlueX][monsterBlueY] = prevBlue;\r\n            prevBlue = board[monsterBlueX][monsterBlueY - 1];\r\n            board[monsterBlueX][monsterBlueY - 1] = currBlue;\r\n            currBlue = prevBlue;\r\n            monsterBlueY--;\r\n        }\r\n    }\r\n}\r\n\r\n/************************************************OrangeMonster***********************************************/\r\nfunction upOrange() {\r\n    if (monsterOrangeX > 0 & board[monsterOrangeX - 1][monsterOrangeY] !== 4) {\r\n        board[monsterOrangeX][monsterOrangeY] = prevOrange;\r\n        prevOrange = board[monsterOrangeX - 1][monsterOrangeY];\r\n        board[monsterOrangeX - 1][monsterOrangeY] = currOrange;\r\n        currOrange = prevOrange;\r\n\r\n        monsterOrangeX--;\r\n\r\n    } else if (board[monsterOrangeX - 1][monsterOrangeY] === 4) {\r\n        if (monsterOrangeY > 0 & board[monsterOrangeX][monsterOrangeY - 1] !== 4) {\r\n            board[monsterOrangeX][monsterOrangeY] = prevOrange;\r\n            prevOrange = board[monsterOrangeX][monsterOrangeY - 1];\r\n            board[monsterOrangeX][monsterOrangeY - 1] = currOrange;\r\n            currOrange = prevOrange;\r\n            monsterOrangeY--;\r\n\r\n        } else if (monsterOrangeY < 8 & board[monsterOrangeX][monsterOrangeY + 1] !== 4) {\r\n            board[monsterOrangeX][monsterOrangeY] = prevOrange;\r\n            prevOrange = board[monsterOrangeX][monsterOrangeY + 1];\r\n            board[monsterOrangeX][monsterOrangeY + 1] = currOrange;\r\n            currOrange = prevOrange;\r\n            monsterOrangeY++;\r\n\r\n        } else if (monsterOrangeX < 13 & board[monsterOrangeX + 1][monsterOrangeY] !== 4) {\r\n            board[monsterOrangeX][monsterOrangeY] = prevOrange;\r\n            prevOrange = board[monsterOrangeX + 1][monsterOrangeY];\r\n            board[monsterOrangeX + 1][monsterOrangeY] = currOrange;\r\n            currOrange = prevOrange;\r\n\r\n            monsterOrangeY++;\r\n        }\r\n    }\r\n}\r\n\r\nfunction downOrange() {\r\n    if (monsterOrangeX < 13 & board[monsterOrangeX + 1][monsterOrangeY] !== 4) {\r\n        board[monsterOrangeX][monsterOrangeY] = prevOrange;\r\n        prevOrange = board[monsterOrangeX + 1][monsterOrangeY];\r\n        board[monsterOrangeX + 1][monsterOrangeY] = currOrange;\r\n        currOrange = prevOrange;\r\n        monsterOrangeX++;\r\n\r\n    } else if (board[monsterOrangeX - 1][monsterOrangeY] === 4) {\r\n        if (monsterOrangeY < 8 & board[monsterOrangeX][monsterOrangeY + 1] !== 4) {\r\n            board[monsterOrangeX][monsterOrangeY] = prevOrange;\r\n            prevOrange = board[monsterOrangeX][monsterOrangeY + 1];\r\n            board[monsterOrangeX][monsterOrangeY + 1] = currOrange;\r\n            currOrange = prevOrange;\r\n            monsterOrangeY++;\r\n\r\n        } else if (monsterOrangeY > 0 & board[monsterOrangeX][monsterOrangeY - 1] !== 4) {\r\n            board[monsterOrangeX][monsterOrangeY] = prevOrange;\r\n            prevOrange = board[monsterOrangeX][monsterOrangeY - 1];\r\n            board[monsterOrangeX][monsterOrangeY - 1] = currOrange;\r\n            currOrange = prevOrange;\r\n            monsterOrangeY--;\r\n\r\n        } else if (monsterOrangeX > 0 & board[monsterOrangeX - 1][monsterOrangeY] !== 4) {\r\n            board[monsterOrangeX][monsterOrangeY] = prevOrange;\r\n            prevOrange = board[monsterOrangeX - 1][monsterOrangeY];\r\n            board[monsterOrangeX - 1][monsterOrangeY] = currOrange;\r\n            currOrange = prevOrange;\r\n            monsterOrangeX--;\r\n        }\r\n    }\r\n}\r\n\r\nfunction leftOrange() {\r\n    if (monsterOrangeY > 0 & board[monsterOrangeX][monsterOrangeY - 1] !== 4) {\r\n        board[monsterOrangeX][monsterOrangeY] = prevOrange;\r\n        prevOrange = board[monsterOrangeX][monsterOrangeY - 1];\r\n        board[monsterOrangeX][monsterOrangeY - 1] = currOrange;\r\n        currOrange = prevOrange;\r\n        monsterOrangeY--;\r\n\r\n    } else if (board[monsterOrangeX - 1][monsterOrangeY] === 4) {\r\n        if (monsterOrangeX > 0 & board[monsterOrangeX - 1][monsterOrangeY] !== 4) {\r\n            board[monsterOrangeX][monsterOrangeY] = prevOrange;\r\n            prevOrange = board[monsterOrangeX - 1][monsterOrangeY];\r\n            board[monsterOrangeX - 1][monsterOrangeY] = currOrange;\r\n            currOrange = prevOrange;\r\n            monsterOrangeX--;\r\n\r\n        } else if (monsterOrangeX < 13 & board[monsterOrangeX + 1][monsterOrangeY] !== 4) {\r\n            board[monsterOrangeX][monsterOrangeY] = prevOrange;\r\n            prevOrange = board[monsterOrangeX + 1][monsterOrangeY];\r\n            board[monsterOrangeX + 1][monsterOrangeY] = currOrange;\r\n            currOrange = prevOrange;\r\n            monsterOrangeX++;\r\n        } else if (monsterOrangeY < 8 & board[monsterOrangeX][monsterOrangeY + 1] !== 4) {\r\n            board[monsterOrangeX][monsterOrangeY] = prevOrange;\r\n            prevOrange = board[monsterOrangeX][monsterOrangeY + 1];\r\n            board[monsterOrangeX][monsterOrangeY + 1] = currOrange;\r\n            currOrange = prevOrange;\r\n            monsterOrangeY++;\r\n\r\n        }\r\n    }\r\n}\r\n\r\nfunction rightOrange() {\r\n    if (monsterOrangeY < 8 & board[monsterOrangeX][monsterOrangeY + 1] !== 4) {\r\n        board[monsterOrangeX][monsterOrangeY] = prevOrange;\r\n        prevOrange = board[monsterOrangeX][monsterOrangeY + 1];\r\n        board[monsterOrangeX][monsterOrangeY + 1] = currOrange;\r\n        currOrange = prevOrange;\r\n        monsterOrangeY++;\r\n    } else if (board[monsterOrangeX - 1][monsterOrangeY] === 4) {\r\n        if (monsterOrangeX < 13 & board[monsterOrangeX + 1][monsterOrangeY] !== 4) {\r\n            board[monsterOrangeX][monsterOrangeY] = prevOrange;\r\n            prevOrange = board[monsterOrangeX + 1][monsterOrangeY];\r\n            board[monsterOrangeX + 1][monsterOrangeY] = currOrange;\r\n            currOrange = prevOrange;\r\n            monsterOrangeX++;\r\n        } else if (monsterOrangeX > 0 & board[monsterOrangeX - 1][monsterOrangeY] !== 4) {\r\n            board[monsterOrangeX][monsterOrangeY] = prevOrange;\r\n            prevOrange = board[monsterOrangeX - 1][monsterOrangeY];\r\n            board[monsterOrangeX - 1][monsterOrangeY] = currOrange;\r\n            currOrange = prevOrange;\r\n            monsterOrangeX--;\r\n        } else if (monsterOrangeY > 0 & board[monsterOrangeX][monsterOrangeY - 1] !== 4) {\r\n            board[monsterOrangeX][monsterOrangeY] = prevOrange;\r\n            prevOrange = board[monsterOrangeX][monsterOrangeY - 1];\r\n            board[monsterOrangeX][monsterOrangeY - 1] = currOrange;\r\n            currOrange = prevOrange;\r\n            monsterOrangeY--;\r\n        }\r\n    }\r\n}\r\n\r\n/************************************************GreenMonster***********************************************/\r\nfunction upGreen() {\r\n    if (monsterGreenX > 0 & board[monsterGreenX - 1][monsterGreenY] !== 4) {\r\n        board[monsterGreenX][monsterGreenY] = prevGreen;\r\n        prevGreen = board[monsterGreenX - 1][monsterGreenY];\r\n        board[monsterGreenX - 1][monsterGreenY] = currGreen;\r\n        currGreen = prevGreen;\r\n\r\n        monsterGreenX--;\r\n\r\n    } else if (board[monsterGreenX - 1][monsterGreenY] === 4) {\r\n        if (monsterGreenY > 0 & board[monsterGreenX][monsterGreenY - 1] !== 4) {\r\n            board[monsterGreenX][monsterGreenY] = prevGreen;\r\n            prevGreen = board[monsterGreenX][monsterGreenY - 1];\r\n            board[monsterGreenX][monsterGreenY - 1] = currGreen;\r\n            currGreen = prevGreen;\r\n            monsterGreenY--;\r\n\r\n        } else if (monsterGreenY < 8 & board[monsterGreenX][monsterGreenY + 1] !== 4) {\r\n            board[monsterGreenX][monsterGreenY] = prevGreen;\r\n            prevGreen = board[monsterGreenX][monsterGreenY + 1];\r\n            board[monsterGreenX][monsterGreenY + 1] = currGreen;\r\n            currGreen = prevGreen;\r\n            monsterGreenY++;\r\n\r\n        } else if (monsterGreenX < 13 & board[monsterGreenX + 1][monsterGreenY] !== 4) {\r\n            board[monsterGreenX][monsterGreenY] = prevGreen;\r\n            prevGreen = board[monsterGreenX + 1][monsterGreenY];\r\n            board[monsterGreenX + 1][monsterGreenY] = currGreen;\r\n            currGreen = prevGreen;\r\n\r\n            monsterGreenX++;\r\n        }\r\n    }\r\n}\r\n\r\nfunction downGreen() {\r\n    if (monsterGreenX < 13 & board[monsterGreenX + 1][monsterGreenY] !== 4) {\r\n        board[monsterGreenX][monsterGreenY] = prevGreen;\r\n        prevGreen = board[monsterGreenX + 1][monsterGreenY];\r\n        board[monsterGreenX + 1][monsterGreenY] = currGreen;\r\n        currGreen = prevGreen;\r\n        monsterGreenX++;\r\n\r\n    } else if (board[monsterGreenX - 1][monsterGreenY] === 4) {\r\n        if (monsterGreenY < 8 & board[monsterGreenX][monsterGreenY + 1] !== 4) {\r\n            board[monsterGreenX][monsterGreenY] = prevGreen;\r\n            prevGreen = board[monsterGreenX][monsterGreenY + 1];\r\n            board[monsterGreenX][monsterGreenY + 1] = currGreen;\r\n            currGreen = prevGreen;\r\n            monsterGreenY++;\r\n\r\n        } else if (monsterGreenY > 0 & board[monsterGreenX][monsterGreenY - 1] !== 4) {\r\n            board[monsterGreenX][monsterGreenY] = prevGreen;\r\n            prevGreen = board[monsterGreenX][monsterGreenY - 1];\r\n            board[monsterGreenX][monsterGreenY - 1] = currGreen;\r\n            currGreen = prevGreen;\r\n            monsterGreenY--;\r\n\r\n        } else if (monsterGreenX > 0 & board[monsterGreenX - 1][monsterGreenY] !== 4) {\r\n            board[monsterGreenX][monsterGreenY] = prevGreen;\r\n            prevGreen = board[monsterGreenX - 1][monsterGreenY];\r\n            board[monsterGreenX - 1][monsterGreenY] = currGreen;\r\n            currGreen = prevGreen;\r\n            monsterGreenX--;\r\n        }\r\n    }\r\n}\r\n\r\nfunction leftGreen() {\r\n    if (monsterGreenY > 0 & board[monsterGreenX][monsterGreenY - 1] !== 4) {\r\n        board[monsterGreenX][monsterGreenY] = prevGreen;\r\n        prevGreen = board[monsterGreenX][monsterGreenY - 1];\r\n        board[monsterGreenX][monsterGreenY - 1] = currGreen;\r\n        currGreen = prevGreen;\r\n        monsterGreenY--;\r\n\r\n    } else if (board[monsterGreenX - 1][monsterGreenY] === 4) {\r\n        if (monsterGreenX > 0 & board[monsterGreenX - 1][monsterGreenY] !== 4) {\r\n            board[monsterGreenX][monsterGreenY] = prevGreen;\r\n            prevGreen = board[monsterGreenX - 1][monsterGreenY];\r\n            board[monsterGreenX - 1][monsterGreenY] = currGreen;\r\n            currGreen = prevGreen;\r\n            monsterGreenX--;\r\n\r\n        } else if (monsterGreenX < 13 & board[monsterGreenX + 1][monsterGreenY] !== 4) {\r\n            board[monsterGreenX][monsterGreenY] = prevGreen;\r\n            prevGreen = board[monsterGreenX + 1][monsterGreenY];\r\n            board[monsterGreenX + 1][monsterGreenY] = currGreen;\r\n            currGreen = prevGreen;\r\n            monsterGreenX++;\r\n        } else if (monsterGreenY < 8 & board[monsterGreenX][monsterGreenY + 1] !== 4) {\r\n            board[monsterGreenX][monsterGreenY] = prevGreen;\r\n            prevGreen = board[monsterGreenX][monsterGreenY + 1];\r\n            board[monsterGreenX][monsterGreenY + 1] = currGreen;\r\n            currGreen = prevGreen;\r\n            monsterGreenY++;\r\n\r\n        }\r\n    }\r\n}\r\n\r\nfunction rightGreen() {\r\n    if (monsterGreenY < 8 & board[monsterGreenX][monsterGreenY + 1] !== 4) {\r\n        board[monsterGreenX][monsterGreenY] = prevGreen;\r\n        prevGreen = board[monsterGreenX][monsterGreenY + 1];\r\n        board[monsterGreenX][monsterGreenY + 1] = currGreen;\r\n        currGreen = prevGreen;\r\n        monsterGreenY++;\r\n    } else if (board[monsterGreenX - 1][monsterGreenY] === 4) {\r\n        if (monsterGreenX < 13 & board[monsterGreenX + 1][monsterGreenY] !== 4) {\r\n            board[monsterGreenX][monsterGreenY] = prevGreen;\r\n            prevGreen = board[monsterGreenX + 1][monsterGreenY];\r\n            board[monsterGreenX + 1][monsterGreenY] = currGreen;\r\n            currGreen = prevGreen;\r\n            monsterGreenX++;\r\n        } else if (monsterGreenX > 0 & board[monsterGreenX - 1][monsterGreenY] !== 4) {\r\n            board[monsterGreenX][monsterGreenY] = prevGreen;\r\n            prevGreen = board[monsterGreenX - 1][monsterGreenY];\r\n            board[monsterGreenX - 1][monsterGreenY] = currGreen;\r\n            currGreen = prevGreen;\r\n            monsterGreenX--;\r\n        } else if (monsterGreenY > 0 & board[monsterGreenX][monsterGreenY - 1] !== 4) {\r\n            board[monsterGreenX][monsterGreenY] = prevGreen;\r\n            prevGreen = board[monsterGreenX][monsterGreenY - 1];\r\n            board[monsterGreenX][monsterGreenY - 1] = currGreen;\r\n            currGreen = prevGreen;\r\n            monsterGreenY--;\r\n        }\r\n    }\r\n}\r\n\r\n/************************************************RedMonster***********************************************/\r\nfunction upRed() {\r\n    if (monsterRedX > 0 & board[monsterRedX - 1][monsterRedY] !== 4) {\r\n        board[monsterRedX][monsterRedY] = prevRed;\r\n        prevRed = board[monsterRedX - 1][monsterRedY];\r\n        board[monsterRedX - 1][monsterRedY] = currRed;\r\n        currRed = prevRed;\r\n\r\n        monsterRedX--;\r\n\r\n    } else if (board[monsterRedX - 1][monsterRedY] === 4) {\r\n        if (monsterRedY > 0 & board[monsterRedX][monsterRedY - 1] !== 4) {\r\n            board[monsterRedX][monsterRedY] = prevRed;\r\n            prevRed = board[monsterRedX][monsterRedY - 1];\r\n            board[monsterRedX][monsterRedY - 1] = currRed;\r\n            currRed = prevRed;\r\n            monsterRedY--;\r\n\r\n        } else if (monsterRedY < 8 & board[monsterRedX][monsterRedY + 1] !== 4) {\r\n            board[monsterRedX][monsterRedY] = prevRed;\r\n            prevRed = board[monsterRedX][monsterRedY + 1];\r\n            board[monsterRedX][monsterRedY + 1] = currRed;\r\n            currRed = prevRed;\r\n            monsterRedY++;\r\n\r\n        } else if (monsterRedX < 13 & board[monsterRedX + 1][monsterRedY] !== 4) {\r\n            board[monsterRedX][monsterRedY] = prevRed;\r\n            prevRed = board[monsterRedX + 1][monsterRedY];\r\n            board[monsterRedX + 1][monsterRedY] = currRed;\r\n            currRed = prevRed;\r\n\r\n            monsterRedX++;\r\n        }\r\n    }\r\n}\r\n\r\nfunction downRed() {\r\n    if (monsterRedX < 13 & board[monsterRedX + 1][monsterRedY] !== 4) {\r\n        board[monsterRedX][monsterRedY] = prevRed;\r\n        prevRed = board[monsterRedX + 1][monsterRedY];\r\n        board[monsterRedX + 1][monsterRedY] = currRed;\r\n        currRed = prevRed;\r\n        monsterRedX++;\r\n\r\n    } else if (board[monsterRedX - 1][monsterRedY] === 4) {\r\n        if (monsterRedY < 8 & board[monsterRedX][monsterRedY + 1] !== 4) {\r\n            board[monsterRedX][monsterRedY] = prevRed;\r\n            prevRed = board[monsterRedX][monsterRedY + 1];\r\n            board[monsterRedX][monsterRedY + 1] = currRed;\r\n            currRed = prevRed;\r\n            monsterRedY++;\r\n\r\n        } else if (monsterRedY > 0 & board[monsterRedX][monsterRedY - 1] !== 4) {\r\n            board[monsterRedX][monsterRedY] = prevRed;\r\n            prevRed = board[monsterRedX][monsterRedY - 1];\r\n            board[monsterRedX][monsterRedY - 1] = currRed;\r\n            currRed = prevRed;\r\n            monsterRedY--;\r\n\r\n        } else if (monsterRedX > 0 & board[monsterRedX - 1][monsterRedY] !== 4) {\r\n            board[monsterRedX][monsterRedY] = prevRed;\r\n            prevRed = board[monsterRedX - 1][monsterRedY];\r\n            board[monsterRedX - 1][monsterRedY] = currRed;\r\n            currRed = prevRed;\r\n            monsterRedX--;\r\n        }\r\n    }\r\n}\r\n\r\nfunction leftRed() {\r\n    if (monsterRedY > 0 & board[monsterRedX][monsterRedY - 1] !== 4) {\r\n        board[monsterRedX][monsterRedY] = prevRed;\r\n        prevRed = board[monsterRedX][monsterRedY - 1];\r\n        board[monsterRedX][monsterRedY - 1] = currRed;\r\n        currRed = prevRed;\r\n        monsterRedY--;\r\n\r\n    } else if (board[monsterRedX - 1][monsterRedY] === 4) {\r\n        if (monsterRedX > 0 & board[monsterRedX - 1][monsterRedY] !== 4) {\r\n            board[monsterRedX][monsterRedY] = prevRed;\r\n            prevRed = board[monsterRedX - 1][monsterRedY];\r\n            board[monsterRedX - 1][monsterRedY] = currRed;\r\n            currRed = prevRed;\r\n            monsterRedX--;\r\n\r\n        } else if (monsterRedX < 13 & board[monsterRedX + 1][monsterRedY] !== 4) {\r\n            board[monsterRedX][monsterRedY] = prevRed;\r\n            prevRed = board[monsterRedX + 1][monsterRedY];\r\n            board[monsterRedX + 1][monsterRedY] = currRed;\r\n            currRed = prevRed;\r\n            monsterRedX++;\r\n        } else if (monsterRedY < 8 & board[monsterRedX][monsterRedY + 1] !== 4) {\r\n            board[monsterRedX][monsterRedY] = prevRed;\r\n            prevRed = board[monsterRedX][monsterRedY + 1];\r\n            board[monsterRedX][monsterRedY + 1] = currRed;\r\n            currRed = prevRed;\r\n            monsterRedY++;\r\n\r\n        }\r\n    }\r\n}\r\n\r\nfunction rightRed() {\r\n    if (monsterRedY < 8 & board[monsterRedX][monsterRedY + 1] !== 4) {\r\n        board[monsterRedX][monsterRedY] = prevRed;\r\n        prevRed = board[monsterRedX][monsterRedY + 1];\r\n        board[monsterRedX][monsterRedY + 1] = currRed;\r\n        currRed = prevRed;\r\n        monsterRedY++;\r\n    } else if (board[monsterRedX - 1][monsterRedY] === 4) {\r\n        if (monsterRedX < 13 & board[monsterRedX + 1][monsterRedY] !== 4) {\r\n            board[monsterRedX][monsterRedY] = prevRed;\r\n            prevRed = board[monsterRedX + 1][monsterRedY];\r\n            board[monsterRedX + 1][monsterRedY] = currRed;\r\n            currRed = prevRed;\r\n            monsterRedX++;\r\n        } else if (monsterRedX > 0 & board[monsterRedX - 1][monsterRedY] !== 4) {\r\n            board[monsterRedX][monsterRedY] = prevRed;\r\n            prevRed = board[monsterRedX - 1][monsterRedY];\r\n            board[monsterRedX - 1][monsterRedY] = currRed;\r\n            currRed = prevRed;\r\n            monsterRedX--;\r\n        } else if (monsterRedY > 0 & board[monsterRedX][monsterRedY - 1] !== 4) {\r\n            board[monsterRedX][monsterRedY] = prevRed;\r\n            prevRed = board[monsterRedX][monsterRedY - 1];\r\n            board[monsterRedX][monsterRedY - 1] = currRed;\r\n            currRed = prevRed;\r\n            monsterRedY--;\r\n        }\r\n    }\r\n}\r\n\r\n/************************************************updateScoreAndLife**********************************************/\r\nfunction updateLife() {\r\n    if (pacmanLife == 4) {\r\n        pacmanLife++;\r\n        document.getElementById(\"lblLive\").style.visibility = \"visible\";\r\n        document.getElementById(\"lblLive1\").style.visibility = \"visible\";\r\n        document.getElementById(\"lblLive2\").style.visibility = \"visible\";\r\n        document.getElementById(\"lblLive3\").style.visibility = \"visible\";\r\n        document.getElementById(\"lblLive4\").style.visibility = \"visible\";\r\n    } else if (pacmanLife == 3) {\r\n        pacmanLife++;\r\n        document.getElementById(\"lblLive\").style.visibility = \"visible\";\r\n        document.getElementById(\"lblLive1\").style.visibility = \"visible\";\r\n        document.getElementById(\"lblLive2\").style.visibility = \"visible\";\r\n        document.getElementById(\"lblLive3\").style.visibility = \"visible\";\r\n        document.getElementById(\"lblLive4\").style.visibility = \"hidden\";\r\n    } else if (pacmanLife == 2) {\r\n        pacmanLife++;\r\n        document.getElementById(\"lblLive\").style.visibility = \"visible\";\r\n        document.getElementById(\"lblLive1\").style.visibility = \"visible\";\r\n        document.getElementById(\"lblLive2\").style.visibility = \"visible\";\r\n        document.getElementById(\"lblLive3\").style.visibility = \"hidden\";\r\n        document.getElementById(\"lblLive4\").style.visibility = \"hidden\";\r\n    } else if (pacmanLife == 1) {\r\n        pacmanLife++;\r\n        document.getElementById(\"lblLive\").style.visibility = \"visible\";\r\n        document.getElementById(\"lblLive1\").style.visibility = \"visible\";\r\n        document.getElementById(\"lblLive2\").style.visibility = \"hidden\";\r\n        document.getElementById(\"lblLive3\").style.visibility = \"hidden\";\r\n        document.getElementById(\"lblLive4\").style.visibility = \"hidden\";\r\n    }\r\n}\r\n\r\nfunction looseLife() {\r\n    if (pacmanLife == 5) {\r\n        document.getElementById(\"lblLive\").style.visibility = \"visible\";\r\n        document.getElementById(\"lblLive1\").style.visibility = \"visible\";\r\n        document.getElementById(\"lblLive2\").style.visibility = \"visible\";\r\n        document.getElementById(\"lblLive3\").style.visibility = \"visible\";\r\n        document.getElementById(\"lblLive4\").style.visibility = \"hidden\";\r\n    } else if (pacmanLife == 4) {\r\n        document.getElementById(\"lblLive\").style.visibility = \"visible\";\r\n        document.getElementById(\"lblLive1\").style.visibility = \"visible\";\r\n        document.getElementById(\"lblLive2\").style.visibility = \"visible\";\r\n        document.getElementById(\"lblLive3\").style.visibility = \"hidden\";\r\n        document.getElementById(\"lblLive4\").style.visibility = \"hidden\";\r\n    } else if (pacmanLife == 3) {\r\n        document.getElementById(\"lblLive\").style.visibility = \"visible\";\r\n        document.getElementById(\"lblLive1\").style.visibility = \"visible\";\r\n        document.getElementById(\"lblLive2\").style.visibility = \"hidden\";\r\n        document.getElementById(\"lblLive3\").style.visibility = \"hidden\";\r\n        document.getElementById(\"lblLive4\").style.visibility = \"hidden\";\r\n    } else if (pacmanLife == 2) {\r\n        document.getElementById(\"lblLive\").style.visibility = \"visible\";\r\n        document.getElementById(\"lblLive1\").style.visibility = \"hidden\";\r\n        document.getElementById(\"lblLive2\").style.visibility = \"hidden\";\r\n        document.getElementById(\"lblLive3\").style.visibility = \"hidden\";\r\n        document.getElementById(\"lblLive4\").style.visibility = \"hidden\";\r\n    } else if (pacmanLife == 1) {\r\n        document.getElementById(\"lblLive\").style.visibility = \"hidden\";\r\n        document.getElementById(\"lblLive1\").style.visibility = \"hidden\";\r\n        document.getElementById(\"lblLive2\").style.visibility = \"hidden\";\r\n        document.getElementById(\"lblLive3\").style.visibility = \"hidden\";\r\n        document.getElementById(\"lblLive4\").style.visibility = \"hidden\";\r\n    }\r\n    pacmanLife--;\r\n}\r\n\r\nfunction updateScoreAfterCollision() {\r\n    if (monsterBlueX !== -1) {\r\n        board[monsterBlueX][monsterBlueY] = prevBlue;\r\n        prevBlue = 0;\r\n        currBlue = 0;\r\n    }\r\n    if (monsterOrangeX !== -1) {\r\n        board[monsterOrangeX][monsterOrangeY] = prevOrange;\r\n        prevOrange = 0;\r\n        currOrange = 0;\r\n    }\r\n    if (monsterGreenX !== -1) {\r\n        board[monsterGreenX][monsterGreenY] = prevGreen;\r\n        prevGreen = 0;\r\n        currGreen = 0;\r\n    }\r\n    if (monsterRedX !== -1) {\r\n        board[monsterRedX][monsterRedY] = prevRed;\r\n        prevRed = 0;\r\n        currRed = 0;\r\n    }\r\n\r\n\r\n    let points = 0;\r\n    for (let monsterColor in listMonsters) {\r\n        let monsterChosen = listMonsters[monsterColor];\r\n        let tmpKeyColor = Object.keys(monsterChosen)[0];\r\n        let monColor = monsterChosen[tmpKeyColor];\r\n        let tmpKeyPos = Object.keys(monsterChosen)[1];\r\n        let monPlace = monsterChosen[tmpKeyPos];\r\n        monPlace += 6;\r\n        if (monColor === \"blue\") {\r\n            points = 15;\r\n        } else if (monColor === \"orange\") {\r\n            points = 20;\r\n        } else if (monColor === \"green\") {\r\n            points = 10;\r\n        } else if (monColor === \"red\") {\r\n            points = 25;\r\n        }\r\n\r\n    }\r\n    if (score < points) {\r\n        score = 0;\r\n    } else {\r\n        score -= points;\r\n    }\r\n\r\n    looseLife();\r\n}\r\n\r\nfunction win() {\r\n    document.getElementById('dialogWinner').style.display = 'block';\r\n\r\n    document.getElementsByClassName(\"closeWin\")[0].onclick = function () {\r\n        document.getElementById('dialogWinner').style.display = 'none';\r\n        document.getElementById('dialogWinner').close();\r\n        showMenuSettings();\r\n    }\r\n}\r\n\r\n/************************************************Others**********************************************/\r\n//stop scrolling\r\nwindow.addEventListener(\"keydown\", function (e) {\r\n    // arrow keys\r\n    if ([37, 38, 39, 40].indexOf(e.keyCode) > -1) {\r\n        e.preventDefault();\r\n    }\r\n}, false);\r\n\r\nfunction musicController() {\r\n    // var imgElement = document.getElementById('imageMusic');\r\n    // if (musicOn) {\r\n    //     imgElement.src = img1;\r\n    //     audio.pause();\r\n    //     musicOn = false;\r\n    // } else {\r\n    //     imgElement.src = img2;\r\n    //     audio.play();\r\n    //     audio.loop=true;\r\n    //     musicOn = true;\r\n    // }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app.js	(revision c24246c599b7ccc79f3ecbb9dd5421c2b44f0904)
+++ app.js	(date 1588515464976)
@@ -218,7 +218,7 @@
 
     intervalMonsters = setInterval(UpdatePositionMonsters, 750);
     interval = setInterval(UpdatePosition, 500);
-    intervalAlmo = setInterval(updatePositionAlmo, 750);
+  //  intervalAlmo = setInterval(updatePositionAlmo, 750);
 
 }
 
Index: Style.css
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>body{\r\n    background-image: url(\"Resources/back4.jpg\");\r\n    background-attachment: fixed;\r\n    background-position: center;\r\n    background-repeat: no-repeat;\r\n    background-size: cover;\r\n    font-family: \"Comic Sans MS \", cursive, sans-serif;\r\n    font-style: italic;\r\n    font-size: 15px;\r\n}\r\n\r\n#menu{\r\n    position: fixed;\r\n    width: 100%;\r\n    height: 50px;\r\n    text-decoration: none;\r\n    vertical-align: baseline;\r\n    margin-top: -30px;\r\n}\r\n\r\n#menu1{\r\n    position: fixed;\r\n    width: 100%;\r\n    height: 50px;\r\n    text-decoration: none;\r\n    vertical-align: baseline;\r\n    margin-top: 54px;\r\n}\r\nul{\r\n    overflow:hidden;\r\n    align-content: center;\r\n    alignment: top;\r\n    font-family: \"Comic Sans MS\", cursive, sans-serif;\r\n    font-size: 15px;\r\n    font-style: italic;\r\n    margin-top: -30px;\r\n}\r\np.logo{\r\n    font-family: \"Comic Sans MS\", cursive, sans-serif;\r\n    font-style: italic;\r\n    font-size: 25px;\r\n    font-weight: bold;\r\n    backface-visibility: inherit;\r\n    color: black;\r\n    background-color: #406CB2;\r\n}\r\nli{\r\n    display:inline-block;\r\n    padding: 20px;\r\n}\r\nbutton{\r\n    font-family: \"Comic Sans MS \", cursive, sans-serif;\r\n    font-size: 12px;\r\n    font-style: italic;\r\n    color: black;\r\n    text-decoration: none;\r\n}\r\na.menuList:link {\r\n    color: \t#406CB2;\r\n    font-weight: bold;\r\n    text-effect: emboss;\r\n    text-decoration: none;\r\n}\r\na.menuList:visited{\r\n    color: \t#406CB2;\r\n    font-weight: bold;\r\n    text-decoration: none;\r\n}\r\n\r\na:link {\r\n    color: \tblack;\r\n    font-weight: bold;\r\n    text-effect: emboss;\r\n    text-decoration: none;\r\n}\r\na:visited{\r\n    color: black;\r\n    font-weight: bold;\r\n    text-decoration: none;\r\n}\r\n\r\ndiv.form-popUp{\r\n    border-style: dotted;\r\n    border-color: black;\r\n    display:inline-block;\r\n    color: #406CB2;\r\n}\r\nbutton.welcome{\r\n    background-color: #406CB2;\r\n    color: black;\r\n    font-weight: bold;\r\n    padding: 15px 32px;\r\n    text-align: center;\r\n    display: inline-block;\r\n    font-size: 15px;\r\n    border: 2px solid black;\r\n    border-radius: 8px;\r\n    text-decoration: none;\r\n}\r\n\r\n\r\nbutton{\r\n    background-color: #406CB2;\r\n    color: black;\r\n    font-weight: bold;\r\n    padding: 8px 15px;\r\n    text-align: center;\r\n    text-decoration: none;\r\n    display: inline-block;\r\n    font-size: 10px;\r\n    border: 2px solid black;\r\n    border-radius: 8px;\r\n\r\n}\r\nbutton:hover {\r\n    background-color: white;\r\n    cursor: pointer;\r\n    /*color: white;*/\r\n}\r\ndialog.modal{\r\n    z-index: 10;\r\n    position:fixed;\r\n    display: none;\r\n    border: 2px solid black;\r\n    background-color: #406CB2;\r\n    color: white;\r\n    width: 650px;\r\n    overflow: auto;\r\n    height: 300px;\r\n}\r\n\r\ndialog.winner{\r\n    background-color: white;\r\n    width: 550px;\r\n    height: 300px;\r\n}\r\n\r\n.container {\r\n    position: relative;\r\n    text-align: center;\r\n    color: white;\r\n}\r\n.centered {\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n}\r\n.close {\r\n    color: #aaa;\r\n    float: right;\r\n    font-size: 28px;\r\n    font-weight: bold;\r\n}\r\n\r\n.close:hover,\r\n.close:focus {\r\n    color: black;\r\n    text-decoration: none;\r\n    cursor: pointer;\r\n}\r\n\r\n.square {\r\n    height: 20px;\r\n    width: 20px;\r\n}\r\n\r\ntable.tableGame , table.tableGame.td, table.tableGame.tr{\r\n    font-size: 10px;\r\n    border-style: dotted;\r\n    border-color: black;\r\n    display:inline-block;\r\n    color: #406CB2;\r\n}\r\n\r\ntable.settingsTable,table.settingsTable.td, table.settingsTable.tr{\r\n    font-size: 15px;\r\n    border-style: dotted;\r\n    border-color: black;\r\n    display:inline-block;\r\n    color: #406CB2;\r\n    width: 600px;\r\n}\r\n\r\n\r\np.userLogo{\r\n    font-size: 15px;\r\n}\r\n\r\np.footerC{\r\n    font-size: 15px;\r\n    color: #406CB2;\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- Style.css	(revision c24246c599b7ccc79f3ecbb9dd5421c2b44f0904)
+++ Style.css	(date 1588516696371)
@@ -119,7 +119,7 @@
 }
 dialog.modal{
     z-index: 10;
-    position:fixed;
+    position:relative;
     display: none;
     border: 2px solid black;
     background-color: #406CB2;
@@ -129,12 +129,6 @@
     height: 300px;
 }
 
-dialog.winner{
-    background-color: white;
-    width: 550px;
-    height: 300px;
-}
-
 .container {
     position: relative;
     text-align: center;
@@ -160,6 +154,12 @@
     cursor: pointer;
 }
 
+dialog.winner{
+    background-color: white;
+    width: 550px;
+    height: 300px;
+}
+
 .square {
     height: 20px;
     width: 20px;
